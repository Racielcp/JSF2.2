<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<html lang="#{sessionController.language}"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:sec="http://www.springframework.org/security/facelets/tags"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<ui:composition template="layout/layoutLogin.xhtml">

	<ui:define name="title">
	</ui:define>
	<ui:param name="onLoadJS" value="" />
	<ui:define name="content">
		<h:panelGroup id="displayRegistration" layout="block">
		
			<div class="row">
				<div class="col-lg-6 col-md-offset-3">
						<h:form id="formRegistration" styleClass="form-signin">
						
							<h:inputHidden id="csrf" value="#{registrationController.codeSecureAction}" rendered="#{registrationController.updateRandom}" />
							
							<div class="header">
								<h3>#{messages['registration']}</h3>
							</div>
							
							
							<div class="contentLogin">
							
								<div class="messages">
									<p:messages  id="globalMessages" globalOnly="true" showDetail="true" showSummary="false" closable="false" />
								</div>
							
								<div class="form-group">
									<label>#{messages['remember.password.email']}</label>
									<div class="input-group">
										<p:inputText id="email" value="#{registrationController.email}" required="true" title="#{messages['remember.password.email']}" placeholder="#{messages['remember.password.email']}" styleClass="form-control" />	
										<span class="input-required-group"><p:message for="email" display="icon" /></span>
									</div>
								</div>
								
								<div class="form-group">
									<label>#{messages['login.user']}</label>
									<div class="input-group">
										<p:inputText id="user" value="#{registrationController.user}" required="true" title="#{messages['login.user']}" placeholder="#{messages['login.user']}" styleClass="form-control" />	
										<span class="input-required-group"><p:message for="user" display="icon" /></span>
									</div>
								</div>
								
								<div class="form-group">
									<label>#{messages['login.password']}</label>
									<div class="input-group">
										<p:password id="password" value="#{registrationController.password}" required="true" title="#{messages['login.password']}" placeholder="#{messages['login.password']}" styleClass="form-control" />	
										<span class="input-required-group"><p:message for="password" display="icon" /></span>
									</div>
								</div>
							
							</div>
							
							<div class="actions">
								<p:commandButton value="#{messages['change.password.submit']}" action="#{registrationController.registration}" styleClass="btn btn-success" update=":displayRegistration globalMessages" />
								<p:commandButton value="#{messages['clean']}" process="@this" styleClass="btn btn-default" update=":displayRegistration globalMessages">
									<f:setPropertyActionListener value="" target="#{registrationController.email}" />
									<f:setPropertyActionListener value="" target="#{registrationController.user}" />
									<f:setPropertyActionListener value="" target="#{registrationController.password}" />
									<p:resetInput target="@form" />
								</p:commandButton> 
								
								<p:commandButton value="#{messages['remember.back']}" icon="ui-icon-home" action="index" immediate="true" styleClass="pull-right" />
							</div>
							
						</h:form>
					</div>
				</div>
		</h:panelGroup>		
	</ui:define>
</ui:composition>
</html>

